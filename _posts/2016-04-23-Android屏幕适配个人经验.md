---
layout:     post
title:      Android屏幕适配一二三
subtitle:   一点简单的Android屏幕适配经验分享
date:       2016-04-23
author:     lx8421bcd
header-img: img/post-bg-android.jpg
catalog: true
tags:
    - Android
    - Android开发随笔
---
### Android中的dp单位
大家都知道,Android手机有n种型号,也有n种屏幕,不算平板,绝大部分Android手机屏幕是16:9的分辨率.早期的屏幕分辨率有240*160,320*240...这些手机基本已经被淘汰了,仍然在使用这些手机的用户,基本上都是智能机当功能机使用的用户,一般不建议兼容这些机型,无论是屏幕还是代码,会产生相当高的额外成本.目前我们所需考虑的最低屏幕应该就是4寸WVGA(480 x 800).    

现在Android手机主流的尺寸从4寸~7寸不等,大多数手机的尺寸集中在5寸左右,Android不仅屏幕尺寸多样,就算是同一尺寸下的屏幕也会有不同的分辨率,比如同是5寸屏,可能有的机型为1080p,有的机型为2K,这就造成了一个问题,即由于屏幕密度的不同,像素这个单位不能再确定设计实际的物理尺寸了.  

举例来说,现有同是5寸的两台手机,一台分辨率为1080p(1080 x 1920),一台为2k(1536 x 2560),显然后者的屏幕密度是要高于前者的,如果这时有个按钮声明宽度为200像素,那么在1080p的屏幕上,这个按钮的宽度大概是屏幕宽度的18%,然而在2k的屏幕上这个按钮的宽度则会降到屏幕宽度的13%,而在480*800的手机上这个按钮的宽度又会占屏幕宽度的41%,这样的变化显然是无法容忍的,所以在Android上,有dp这么一个单位,也就是密度无关像素.使用dp的目的,就是为了让这个单位与实际尺寸关联起来,在不同密度和不同尺寸的屏幕上,固定大小的dp与物理尺寸尽量保持一致.

dp具体的计算公式是这样的：

​	dp = px / (ppi / 160)  

​	ppi = √(screenWidth^2 + screenHeight^2) / screenInches  

通过这种方式,可以计算在在一个确定了尺寸和分辨率的屏幕上,像素标注对应的dp长度.

### 等比缩放 & 实际大小

所谓等比缩放,即根据不同的分辨率设置配置文件,对不同大小的屏幕按分辨率保持比例一致.  

刚刚说到了使用dp保证控件实际尺寸,这就带来了一个新的问题: 既然物理尺寸一致,那么小屏手机上看到的内容 肯定要比大屏手机上少了,这时候就要做出选择,是保证应用在不同手机上都按照设计图的比例一致呢,还是保证用户实际的可点击区域呢. 答案当然是选择前者,因为要保证用户可点击区域的大小来来降低用户阅读和操作的难度,无论手机屏幕大小怎样,人的手指就那么大,如果一个 在5寸屏幕上刚刚好的按钮,等比缩放到4寸屏上,可能用户想要准确点中它就非常吃力.同样,字体如果等比缩放,小屏手机用户阅读会很吃力.  

我们需要认识到一点:用户买大屏手机,是为了看到更多的内容,而不是为了看到放大的内容; 同样用户买小屏手机,只是为了更方便单手操作而不是为了看缩小的内容.大屏手机就应该比小屏手机显示更多的内容,小屏手机显示的比大屏 紧凑也是理所应当的.  

To be continue......





